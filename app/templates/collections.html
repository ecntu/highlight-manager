{% extends "base.html" %}

{% block content %}
<div class="card">
    <h2 style="margin-bottom: 20px; font-size: 18px; font-weight: 600;">Create Collection</h2>
    <form hx-post="/collections" hx-target="#collections-list" hx-swap="afterbegin" hx-on::after-request="this.reset()">
        <div style="display: grid; gap: 12px; margin-bottom: 16px;">
            <input type="text" name="name" placeholder="Collection name" required autofocus style="font-size: 14px;">
            <textarea name="description" rows="2" placeholder="Description (optional)"
                style="font-size: 14px; resize: vertical;"></textarea>
        </div>
        <button type="submit" style="width: auto;">
            Create Collection
            <span class="htmx-indicator">...</span>
        </button>
    </form>
</div>

<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 style="margin: 0; font-size: 18px; font-weight: 600;">Your Collections</h2>
        <small style="color: #9ca3af; font-size: 13px;">{{ collections|length }} total</small>
    </div>
    <div id="collections-list">
        {% if collections %}
        <div style="display: grid; gap: 12px;">
            {% for collection in collections %}
            {% include "partials/collection_item.html" %}
            {% endfor %}
        </div>
        {% else %}
        <p style="color: #9ca3af; text-align: center; padding: 40px 0;">
            No collections yet. Create one above to organize your highlights.
        </p>
        {% endif %}
    </div>
</div>
{% endblock %}