{% extends "base.html" %}

{% block content %}
<div class="card">
    <h2 style="margin-bottom: 15px;">Quick Add</h2>
    <form hx-post="/highlights" hx-target="#highlights-list" hx-swap="afterbegin" hx-on::after-request="this.reset()">
        <div class="form-group">
            <textarea name="text" rows="4" placeholder="Paste your highlight here..." required autofocus></textarea>
        </div>
        <div style="display: flex; gap: 10px; margin-top: 10px;">
            <input type="text" name="tags" placeholder="Tags (comma-separated)" style="flex: 1;">
            <input type="text" name="note" placeholder="Note (optional)" style="flex: 1;">
        </div>
        <div style="display: flex; gap: 10px; margin-top: 10px;">
            <input type="text" name="source_url" placeholder="Source URL (for web sources)" style="flex: 1;">
            <input type="text" name="source_title" placeholder="Source title (for books)" style="flex: 1;">
        </div>
        <button type="submit" style="margin-top: 10px;">
            Save Highlight
            <span class="htmx-indicator">...</span>
        </button>
    </form>
</div>

<div class="card">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
        <h2>Recent Highlights</h2>
        <small style="color: #666;" id="highlights-count">{{ highlights|length }} highlights</small>
    </div>
    <div id="highlights-list">
        {% include "partials/highlights_list.html" %}
    </div>
</div>
{% endblock %}